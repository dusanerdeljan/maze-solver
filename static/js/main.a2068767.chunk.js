(this["webpackJsonpmaze-solver"]=this["webpackJsonpmaze-solver"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(9),r=n.n(s),o=(n(16),n(17),n(7)),d=n(1),h=n(2),u=n(5),c=n(4),l=n(3),g=n(6),f=function(){function e(t,n){Object(d.a)(this,e),this.width=t,this.height=n,this.adjacencyMatrix=[],this.edges=[],this.vertexCount=this.width*this.height,this._buildAdjacencyMatrix()}return Object(h.a)(e,[{key:"_buildAdjacencyMatrix",value:function(){for(var e=0;e<this.vertexCount;e++){this.adjacencyMatrix.push([]);for(var t=0;t<this.vertexCount;t++)this.adjacencyMatrix[e].push(0)}}},{key:"edgeExists",value:function(e,t){return e<0||e>=this.vertexCount||t<0||t>=this.vertexCount?0:this.adjacencyMatrix[e][t]}},{key:"getIncidentEdges",value:function(e){for(var t=[],n=0;n<this.vertexCount;n++)n!==e&&this.adjacencyMatrix[e][n]&&t.push({first:e,second:n,weight:this.adjacencyMatrix[e][n]});return t}},{key:"hasTopNeighbour",value:function(e){return e-this.width>=0&&0!==this.adjacencyMatrix[e][e-this.width]}},{key:"addEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.adjacencyMatrix[e][t]=n,this.adjacencyMatrix[t][e]=n,this.edges.push({first:e,second:t,weight:n})}}],[{key:"getRandomEdgeWeight",value:function(){return 2+Math.floor(Math.random()*Math.floor(9999))}},{key:"buildGraph",value:function(t,n){for(var i=new e(t,n),a=0;a<i.height*i.width;a++){var s=this.getRandomEdgeWeight();0===a?(i.addEdge(a,a+i.width,s),i.addEdge(a,a+1,s)):a===i.width-1?(i.addEdge(a,a-1,s),i.addEdge(a,a+i.width,s)):a===i.height*i.width-i.width?(i.addEdge(a,a+1,s),i.addEdge(a,a-i.width,s)):a===i.width*i.height-1?(i.addEdge(a,a-1,s),i.addEdge(a,a-i.width,s)):a%i.width===0?(i.addEdge(a,a+i.width,s),i.addEdge(a,a-i.width,s),i.addEdge(a,a+1,s)):a%i.width+1===i.width?(i.addEdge(a,a+i.width,s),i.addEdge(a,a-i.width,s),i.addEdge(a,a-1,s)):a<i.width?(i.addEdge(a,a+1,s),i.addEdge(a,a-1,s),i.addEdge(a,a+i.width,s)):a>=i.width*i.height-i.width?(i.addEdge(a,a+1,s),i.addEdge(a,a-1,s),i.addEdge(a,a-i.width,s)):(i.addEdge(a,a+1,s),i.addEdge(a,a-1,s),i.addEdge(a,a-i.width,s),i.addEdge(a,a+i.width,s))}return i}}]),e}(),v=(n(18),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.dimension,i=e.position,s={position:"absolute",top:i.top,left:i.left,width:n,height:n,backgroundColor:"start"===t?"#139b08":"#e3110d",zIndex:650};return a.a.createElement("div",{style:s})}}]),t}(i.Component)),p=(n(19),function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e={position:"absolute",top:this.props.position.top,left:this.props.position.left,width:3*this.props.dimension,height:this.props.dimension,backgroundColor:"white",textAlign:"center"},t={position:"absolute",top:this.props.position.top,left:this.props.position.left,width:this.props.dimension,height:3*this.props.dimension,backgroundColor:"white",textAlign:"center"},n=Math.min(this.props.edge.first,this.props.edge.second),i=Math.max(this.props.edge.first,this.props.edge.second);return 1===Math.abs(this.props.edge.first-this.props.edge.second)?a.a.createElement("div",{id:"edge-".concat(n,"-").concat(i),style:e}):a.a.createElement("div",{id:"edge-".concat(n,"-").concat(i),style:t})}}]),t}(i.Component)),m=n(10),w=function(){function e(t){Object(d.a)(this,e),this.positions=new Array(t);for(var n=0;n<this.positions.length;n++)this.positions[n]={parent:n,size:1}}return Object(h.a)(e,[{key:"find",value:function(e){return this.positions[e].parent!==e&&(this.positions[e].parent=this.find(this.positions[e].parent)),this.positions[e].parent}},{key:"union",value:function(e,t){var n=this.find(e),i=this.find(t);this.positions[n].size<this.positions[i].size?this.positions[n].parent=i:this.positions[n].size>this.positions[i].size?this.positions[i].parent=n:(this.positions[i].parent=n,this.positions[n].size++)}},{key:"doesMakeCycle",value:function(e){return this.find(e.first)===this.find(e.second)}},{key:"addEdge",value:function(e){this.union(this.find(e.first),this.find(e.second))}}]),e}();function E(e){for(var t=Object(m.a)(e.edges).sort((function(e,t){return e.weight-t.weight})),n=[],i=new f(e.width,e.height),a=e.width*e.height,s=new w(a),r=0;n.length<a-1&&r<e.edges.length;){var o=t[r];s.doesMakeCycle(o)||(n.push(o),s.addEdge(o),i.addEdge(o.first,o.second)),r++}return{mst:n,maze:i}}n(20);var b=function(){function e(){Object(d.a)(this,e),this.stack=[]}return Object(h.a)(e,[{key:"empty",value:function(){return 0===this.stack.length}},{key:"push",value:function(e){this.stack.push(e)}},{key:"pop",value:function(){return this.stack.pop()}}]),e}();function x(e,t,n){var i=new b,a=[],s=[],r=new Set;i.push(t);for(var o=new Array(e.vertexCount),d=function(){var t=i.pop();if(t===n)return"break";r.add(t),e.getIncidentEdges(t).forEach((function(e){s.push(e),r.has(e.second)||(r.add(e.second),i.push(e.second),o[e.second]=t)}))};!i.empty();){if("break"===d())break}for(var h=n;h!==t;)a.push(h),h=o[h];return a.push(t),{path:a.reverse(),edgesExplored:s}}function k(e){for(var t=new w(e.vertexCount),n=new f(e.width,e.height),i=[],a=e.vertexCount,s=new Array(e.vertexCount);a>1;){for(var r=0;r<e.vertexCount;r++)s[r]=-1;for(var o=0;o<e.edges.length;o++){var d=e.edges[o];if(!t.doesMakeCycle(d)){var h=t.find(d.first),u=t.find(d.second);(-1===s[h]||e.edges[s[h]].weight>d.weight)&&(s[h]=o),(-1===s[u]||e.edges[s[u]].weight>d.weight)&&(s[u]=o)}}for(var c=0;c<e.vertexCount;c++)-1!==s[c]&&(t.doesMakeCycle(e.edges[s[c]])||(n.addEdge(e.edges[s[c]].first,e.edges[s[c]].second),i.push(e.edges[s[c]]),t.addEdge(e.edges[s[c]]),a--))}return{mst:i,maze:n}}var y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9999999,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999999,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(d.a)(this,e),this.weight=t,this.vertex=n,this.edge=i};function z(e){for(var t=new f(e.width,e.height),n=[],i=new Array(e.vertexCount),a=[],s=new Map,r=0;r<e.vertexCount;r++)i[r]=0===i.size?0:9999999,s.set(r,new y(i[r],r,null)),a.push(s.get(r));for(a.sort((function(e,t){return t.weight-e.weight}));0!==a.length;){var o=a.pop();null!==o.edge&&(t.addEdge(o.edge.first,o.edge.second),n.push(o.edge)),e.getIncidentEdges(o.vertex).forEach((function(e){s.has(e.second)&&e.weight<i[e.second]&&(i[e.second]=e.weight,s.get(e.second).weight=e.weight,s.get(e.second).edge=e,a.sort((function(e,t){return t.weight-e.weight})))})),s.delete(o.vertex)}return{mst:n,maze:t}}var M=function(){function e(){Object(d.a)(this,e),this.queue=[]}return Object(h.a)(e,[{key:"empty",value:function(){return 0===this.queue.length}},{key:"enqueue",value:function(e){this.queue.push(e)}},{key:"dequeue",value:function(){return this.queue.shift()}}]),e}();function j(e,t,n){var i=[],a=[],s=new M,r=new Set;r.add(t),s.enqueue(t);for(var o=new Array(e.vertexCount),d=function(){var t=s.dequeue();if(t===n)return"break";e.getIncidentEdges(t).forEach((function(e){a.push(e),r.has(e.second)||(r.add(e.second),s.enqueue(e.second),o[e.second]=t)}))};!s.empty();){if("break"===d())break}for(var h=n;h!==t;)i.push(h),h=o[h];return i.push(t),{path:i.reverse(),edgesExplored:a}}var C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:999999,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999999;Object(d.a)(this,e),this.vertex=t,this.distance=n};function S(e,t,n){for(var i=[],a=[],s=new Array(e.vertexCount),r=0;r<e.vertexCount;r++)s[r]=999999;var o=new Map,d=new Set,h=[],u=new Array(e.vertexCount);s[t]=0,o.set(t,new C(t,0)),h.push(o.get(t));for(var c=function(){var t=h.pop().vertex;if(999999===s[t]||t===n)return"break";e.getIncidentEdges(t).forEach((function(e){var n=e.second,i=s[t]+e.weight;!d.has(n)&&i<s[n]&&(a.push(e),o.has(n)?o.get(n).distance=i:(o.set(n,new C(n,i)),h.push(o.get(n))),h.sort((function(e,t){return t.distance-e.distance})),s[n]=i,u[n]=t)})),d.add(t)};0!==h.length;){if("break"===c())break}for(var l=n;l!==t;)i.push(l),l=u[l];return i.push(t),{path:i.reverse(),edgesExplored:a}}var O=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:999999,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999999;Object(d.a)(this,e),this.vertex=t,this.distance=n};function V(e,t,n){for(var i=[],a=[],s=new Array(e.vertexCount),r=0;r<e.vertexCount;r++)s[r]=999999;var o=new Map,d=new Set,h=[],u=new Array(e.vertexCount);s[t]=0,o.set(t,new O(t,0)),h.push(o.get(t));for(var c=function(){var t=h.pop().vertex;if(999999===s[t]||t===n)return"break";e.getIncidentEdges(t).forEach((function(i){var r=i.second,c=s[t]+i.weight,l=function(e,t,n){var i=_(e,t),a=_(e,n);return Math.abs(i.row-a.row)+Math.abs(i.column-a.column)}(e,t,n);!d.has(r)&&c<s[r]&&(a.push(i),o.has(r)?o.get(r).distance=c+l:(o.set(r,new O(r,c+l)),h.push(o.get(r))),h.sort((function(e,t){return t.distance-e.distance})),s[r]=c,u[r]=t)})),d.add(t)};0!==h.length;){if("break"===c())break}for(var l=n;l!==t;)i.push(l),l=u[l];return i.push(t),{path:i.reverse(),edgesExplored:a}}function _(e,t){return{row:Math.floor(t/e.width),column:t%e.width}}var B=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).width=50,n.height=25,n.graph=null,n.maze=null,n.mazeGenerationFunctions=new Map,n.mazeGenerationFunctions.set("kruskal",E),n.mazeGenerationFunctions.set("prim-jarnik",z),n.mazeGenerationFunctions.set("boruvka",k),n.mazeSolvingFunctions=new Map,n.mazeGenerationFunctions.set("dfs",x),n.mazeGenerationFunctions.set("bfs",j),n.mazeGenerationFunctions.set("dijsktra",S),n.mazeGenerationFunctions.set("astar",V),n.startPosX=.1*window.innerWidth,n.startPosY=.15*window.innerHeight,n.generatedMaze=!1,n.state={mstEdges:[],startVertex:-1,endVertex:-1,errorMessage:""},n.generateMaze=n.generateMaze.bind(Object(l.a)(n)),n.solveMaze=n.solveMaze.bind(Object(l.a)(n)),n.mazeClickHandler=n.mazeClickHandler.bind(Object(l.a)(n)),n.mazeSizeChanged=n.mazeSizeChanged.bind(Object(l.a)(n)),n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.initState()}},{key:"generateMaze",value:function(){var e=this;this.graph=f.buildGraph(this.width,this.height),this.setState((function(e){return{mstEdges:[],startVertex:-1,endVertex:-1,errorMessage:""}}));var t=this.mazeGenerationFunctions.get(this._generationSelect.value)(this.graph),n=t.mst,i=t.maze;this.maze=i,this._generateButton.disabled=!0,this._solveButton.disabled=!0,this._sizeSlider.disabled=!0;for(var a=function(t){setTimeout((function(){e.setState((function(e){return Object(o.a)({},e,{mstEdges:n.slice(0,t+1)})}))}),5*t)},s=0;s<n.length;s++)a(s);setTimeout((function(){e.generatedMaze=!0,e._generateButton.disabled=!1,e._solveButton.disabled=!1,e._sizeSlider.disabled=!1,e.setState((function(t){return Object(o.a)({},t,{startVertex:0,endVertex:e.maze.vertexCount-1})}))}),5*n.length)}},{key:"displayPath",value:function(e){for(var t=this,n=function(t){setTimeout((function(){var n={first:e[t],second:e[t-1]},i=Math.min(n.first,n.second),a=Math.max(n.first,n.second),s=document.getElementById("edge-".concat(i,"-").concat(a)).style;s.backgroundColor="#4fb813",s.zIndex=600,s.animation="path",s.animationDuration="0.5s"}),50*t)},i=1;i<e.length;i++)n(i);setTimeout((function(){t._generateButton.disabled=!1,t._solveButton.disabled=!1,t._sizeSlider.disabled=!1,t.maze=null}),50*e.length)}},{key:"checkStartEndVertex",value:function(){return null!=this.maze&&(-1===this.state.startVertex?(this.setState((function(e){return Object(o.a)({},e,{errorMessage:"Start vertex is not set. Click on the desired location on the board to set start vertex."})})),!1):-1!==this.state.endVertex||(this.setState((function(e){return Object(o.a)({},e,{errorMessage:"End vertex is not set. Shift+Click on the desired location on the board to set end vertex."})})),!1))}},{key:"solveMaze",value:function(){var e=this;if(this.checkStartEndVertex()){var t=this.mazeGenerationFunctions.get(this._solvingSelect.value)(this.maze,this.state.startVertex,this.state.endVertex),n=t.path,i=t.edgesExplored;this._generateButton.disabled=!0,this._solveButton.disabled=!0,this.generatedMaze=!1,this._sizeSlider.disabled=!0,this.setState((function(e){return Object(o.a)({},e,{errorMessage:""})}));for(var a=function(t){t===i.length?setTimeout((function(){e.displayPath(n)}),20*t):setTimeout((function(){var e=i[t],n=Math.min(e.first,e.second),a=Math.max(e.first,e.second),s=document.getElementById("edge-".concat(n,"-").concat(a)).style;s.backgroundColor="#df6f3f",s.zIndex=500,s.animation="solving",s.animationDuration="0.5s"}),20*t)},s=0;s<=i.length;s++)a(s)}}},{key:"initState",value:function(){this.graph=f.buildGraph(this.width,this.height);var e=E(this.graph),t=e.mst,n=e.maze;this.maze=n,this.setState({mstEdges:t,startVertex:0,endVertex:n.vertexCount-1,errorMessage:""}),this.generatedMaze=!0}},{key:"mazeSizeChanged",value:function(e){var t=this,n=parseInt(this._sizeSlider.value);n!==this.width&&(this.width=n,this.height=Math.floor(this.width/2),this.setState((function(e){return{mstEdges:[],startVertex:-1,endVertex:-1,errorMessage:""}}),(function(){return t.initState()})))}},{key:"mazeClickHandler",value:function(e){if(this.generatedMaze&&e.nativeEvent.target){var t=.8*window.innerWidth/(2*this.width-1),n=Math.floor((e.nativeEvent.x-this.startPosX)/t),i=Math.floor((e.nativeEvent.y-this.startPosY)/t);if(n%2!==1&&i%2!==1){var a=Math.floor((i+1)/2),s=Math.floor((n+1)/2),r=a*this.width+s;e.shiftKey&&this.state.startVertex!==r?this.setState((function(e){return{mstEdges:e.mstEdges,startVertex:e.startVertex,endVertex:e.endVertex===r?-1:r}})):this.state.endVertex!==r&&this.setState((function(e){return{mstEdges:e.mstEdges,startVertex:e.startVertex===r?-1:r,endVertex:e.endVertex}}))}}}},{key:"render",value:function(){var e=this,t=.8*window.innerWidth/(2*this.width-1),n=this.state.mstEdges.map((function(n,i){var s=Math.min(n.first,n.second),r={top:e.startPosY+2*Math.floor(s/e.width)*t,left:e.startPosX+s%e.width*2*t};return a.a.createElement("div",{key:i},a.a.createElement(p,{edge:n,position:r,dimension:t}))})),i=[];if(-1!==this.state.startVertex){var s={top:this.startPosY+2*Math.floor(this.state.startVertex/this.width)*t,left:this.startPosX+this.state.startVertex%this.width*2*t};i.push(a.a.createElement("div",{key:this.state.mstEdges.length},a.a.createElement(v,{type:"start",position:s,dimension:t})))}if(-1!==this.state.endVertex){var r={top:this.startPosY+2*Math.floor(this.state.endVertex/this.width)*t,left:this.startPosX+this.state.endVertex%this.width*2*t};i.push(a.a.createElement("div",{key:this.state.mstEdges.length+1},a.a.createElement(v,{type:"end",position:r,dimension:t})))}return a.a.createElement("div",null,a.a.createElement("div",{className:"options"},a.a.createElement("label",{htmlFor:"mst",style:{color:"white"}},"Select maze generation algorithm: "),a.a.createElement("select",{id:"mst",ref:function(t){e._generationSelect=t}},a.a.createElement("option",{value:"kruskal"},"Kruskal"),a.a.createElement("option",{value:"prim-jarnik"},"Prim-Jarnik"),a.a.createElement("option",{value:"boruvka"},"Boruvka")),a.a.createElement("button",{onClick:this.generateMaze,ref:function(t){e._generateButton=t}},"Generate maze"),a.a.createElement("label",{htmlFor:"solver",style:{color:"white"}},"Select maze solving algorithm: "),a.a.createElement("select",{id:"solver",ref:function(t){e._solvingSelect=t}},a.a.createElement("option",{value:"dfs"},"DFS"),a.a.createElement("option",{value:"bfs"},"BFS"),a.a.createElement("option",{value:"dijkstra"},"Dijkstra"),a.a.createElement("option",{value:"astar"},"A*")),a.a.createElement("button",{onClick:this.solveMaze,ref:function(t){e._solveButton=t}},"Solve maze"),a.a.createElement("label",{htmlFor:"size-slider",style:{color:"white"}},"Select maze size: "),a.a.createElement("input",{id:"size-slider",className:"slider",type:"range",min:20,max:100,step:2,onChange:this.mazeSizeChanged,ref:function(t){e._sizeSlider=t}})),a.a.createElement("div",{className:"error"},this.state.errorMessage),a.a.createElement("div",{className:"canvas",onClick:this.mazeClickHandler},n,i))}}]),t}(i.Component);var F=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.a2068767.chunk.js.map